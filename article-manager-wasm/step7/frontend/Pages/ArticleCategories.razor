@inherits ArticleCategoriesBase
@page "/articlecategories"

<h2>Article Categories</h2>
<div class="mt-3">
    @if(!string.IsNullOrEmpty(error))
    {
    <div class="alert alert-danger">
        @error
    </div>
    }

    @if(categoryModel.Item == null)
    {
        <ItemList
            Model="categoriesModel"
            OnAddClick="AddCategory"
            OnEditClick="EditCategory"
            OnDeleteClick="DeleteCategory">
        </ItemList>
    }
    else 
    {
        <ItemDetails 
            ItemType="ArticleCategoryItem"
            Model="categoryModel"
            OnSaveClick="SaveCategory" 
            OnCancelClick="ShowList">
            <FieldsTemplate Context="Category">
                <div class="form-group">
                    <label for="name">Name: </label>
                    <InputText id="name" @bind-Value="Category.Name" class="form-control" />
                    <ValidationMessage For="@(() => Category.Name)" />
                </div>

                <div class="form-group">
                    <label for="description">Description: </label>
                    <InputTextArea id="description" @bind-Value="Category.Description" class="form-control" />
                </div>
            </FieldsTemplate>
        </ItemDetails>
    }
</div>